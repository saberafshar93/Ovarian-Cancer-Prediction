<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ovarian Cancer Prediction App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css">
    <style>
        .container {
            margin-top: 20px;
        }
        .section-header {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .img-thumbnail {
            width: 120px;
            height: 120px;
            object-fit: cover;
            margin-right: 10px;
        }
        .instructions {
            font-size: 1rem;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="step0" class="step">
            <h2 class="section-header">STEP 0: DOWNLOAD FILE</h2>
            <p class="instructions">
                + Download the Excel (CSV) file below, enter your patient's lab data into it, and save the file.<br>
                * Attention!!! For the menopausal result: enter 0 for Premenopausal or 1 for Menopausal!!!<br>
                * After saving, click the "Next" button.
            </p>
            <button class="btn btn-primary" id="download-file-btn">Download File</button>
            <button class="btn btn-success" id="next-btn">Next</button>
            <div class="mt-4">
                <img src="https://raw.githubusercontent.com/saberafshar93/sa/refs/heads/main/Image%201.jpg" alt="Image 1" class="img-thumbnail">
                <img src="https://raw.githubusercontent.com/saberafshar93/sa/refs/heads/main/Image%202.jpg" alt="Image 2" class="img-thumbnail">
                <img src="https://raw.githubusercontent.com/saberafshar93/sa/refs/heads/main/Image%203.jpg" alt="Image 3" class="img-thumbnail">
            </div>
        </div>

        <div id="step1" class="step" style="display:none;">
            <h2 class="section-header">STEP 1: UPLOAD FILE</h2>
            <input type="file" id="data-file" class="form-control mb-3">
            <button class="btn btn-success" id="next-btn1">Next</button>
        </div>

        <div id="step2" class="step" style="display:none;">
            <h2 class="section-header">STEP 2: EDIT</h2>
            <p class="instructions">Review the data from the uploaded file below:</p>
            <div id="data-preview"></div>
            <button class="btn btn-success" id="next-btn2">Next</button>
        </div>

        <div id="step3" class="step" style="display:none;">
            <h2 class="section-header">STEP 3: RESULTS</h2>
            <div id="results"></div>
            <button class="btn btn-primary" id="download-word-btn">Download Word</button>
            <button class="btn btn-danger" id="exit-btn">Exit</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        let dataFile = null;

        $('#download-file-btn').click(function() {
            window.location.href = 'https://github.com/saberafshar93/sa/blob/main/Temp.csv';
        });

        $('#next-btn').click(function() {
            $('#step0').hide();
            $('#step1').show();
        });

        $('#next-btn1').click(function() {
            dataFile = $('#data-file')[0].files[0];
            if (!dataFile) {
                alert('Please upload a CSV or Excel file.');
                return;
            }
            $('#step1').hide();
            $('#step2').show();

            let reader = new FileReader();
            reader.onload = function(e) {
                const fileContent = e.target.result;
                let preview = document.createElement('pre');
                preview.textContent = fileContent;
                document.getElementById('data-preview').appendChild(preview);
            };
            reader.readAsText(dataFile);
        });

        $('#next-btn2').click(function() {
            // Simulating the prediction
            const predictions = {
                'Logistic Regression': 'Benign Ovarian Tumors (BOT)',
                'Decision Tree': 'Non-benign Ovarian cancer (OC)',
                'Random Forest': 'Benign Ovarian Tumors (BOT)',
                'Support Vector Machine': 'Non-benign Ovarian cancer (OC)',
                'Neural Network': 'Benign Ovarian Tumors (BOT)'
            };

            let resultText = '';
            for (let model in predictions) {
                resultText += `${model}: ${predictions[model]}<br>`;
            }

            $('#results').html(resultText);
            $('#step2').hide();
            $('#step3').show();
        });

        $('#download-word-btn').click(function() {
            const resultText = $('#results').html();
            const doc = new Blob([resultText], { type: 'application/msword' });
            const url = URL.createObjectURL(doc);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'results.docx';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        });

        $('#exit-btn').click(function() {
            window.location.reload();
        });
    </script>
</body>
</html>
